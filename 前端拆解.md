1. 基础架构与 Chrome 扩展环境
初始化 Chrome 扩展（Manifest V3）

配置 React 18 + TypeScript

设置 popup.html 作为主要 UI 入口

设置 options.html 作为用户自定义分类规则页面

配置 Tailwind CSS（或其他样式方案）

2. 书签数据加载与管理
📌 需求：使用 chrome.bookmarks.getTree 获取本地书签，并解析数据
✅ 任务拆分
获取完整书签树数据

解析书签树，转换为平铺结构（适用于 UI 展示）

处理 URL 有效性（前期可以仅保留 https:// 的 URL，后续再加入 fetch 进行验证）

书签去重处理（基于 URL 和标题的哈希匹配）

书签数据本地缓存（chrome.storage.local）

3. UI 组件开发（书签展示）
📌 需求：实现卡片视图 + 网络图谱视图，支持交互
✅ 任务拆分
🔹 卡片视图（CSS Grid）
设计卡片 UI（标题、链接、favicon）

支持书签点击后在新标签页打开

增加长按/右键弹出菜单（编辑分类、删除书签等）

书签列表支持虚拟滚动（防止大数据量卡顿）

🔹 网络图谱视图（D3.js）
书签转换为力导向图数据格式（节点 = 书签，边 = 书签关系）

D3.js 绘制交互式图谱

节点交互（点击高亮、拖拽、缩放）

颜色区分不同分类的书签

4. 书签分类（AI 之后接入，但 UI 先实现）
📌 需求：自动生成 "技术/设计/娱乐" 分类标签，并支持筛选
✅ 任务拆分
书签展示时，预留分类标签 UI（等待 AI 分类功能接入）

设计分类筛选交互（多选/单选切换）

Web Worker 实现前端筛选，避免阻塞 UI

支持手动调整分类（拖拽到某个分类）

5. 搜索 & 筛选功能
📌 需求：支持按分类/标签筛选，并提供搜索功能
✅ 任务拆分
设计搜索框 UI

前端实现模糊搜索（支持拼音/英文匹配）

分类筛选（基于 Web Worker 进行异步计算）

书签排序（按访问频率、时间等）

6. 用户设置 & 数据存储
📌 需求：用户可以自定义分类规则，并存储到 chrome.storage.local
✅ 任务拆分
在 options.html 创建设置页面

允许用户自定义分类规则（如新增 "学习" 分类）

设置存储到 chrome.storage.local

弹出窗口与设置页面双向同步数据

7. 交互优化 & 动画
📌 需求：优化用户体验，增强流畅度
✅ 任务拆分
书签拖拽调整分类（拖到某个分类后，触发更新）

增加悬停动画（卡片 hover 时放大）

添加书签删除/分类变更时的过渡动画

高频操作加 200ms 防抖（如搜索框输入）

8. 性能优化
📌 需求：确保流畅运行，书签加载 <500ms
✅ 任务拆分
书签分页加载，避免一次性渲染过多数据

缓存分类计算结果，减少重复计算

书签数据增量更新（监听 chrome.bookmarks.onCreated 等 API）

模型文件预加载（提前下载 AI 模型，提高响应速度）

9. 测试与调试
📌 需求：确保功能稳定，达到测试要求
✅ 任务拆分
Jest 单元测试（组件渲染、交互逻辑）

Puppeteer 端到端测试（模拟真实用户操作）

Chrome DevTools 性能分析（内存占用、渲染时间）

🛠 开发优先级推荐
🚀 第一阶段（核心功能）
✅ 初始化 Chrome 插件框架
✅ 书签数据获取 & 解析
✅ 卡片视图 UI + 基础交互
✅ 搜索 & 筛选功能

🎯 第二阶段（增强功能）
✅ 网络图谱视图
✅ 分类筛选（UI 先实现，AI 之后接入）
✅ 书签拖拽调整分类

📌 第三阶段（性能 & 优化）
✅ Web Worker 实现筛选计算
✅ 数据增量更新
✅ 交互优化 & 动画
